import{G as S,u as C,c as u,b as a,w as p,o as f,a as t,t as d,d as r,F as $,i as x,e as _,q as V,f as j,h as B,N as F}from"./app-12de82bd.js";import{_ as h}from"./InputError-dca05aa1.js";import{_ as m}from"./InputLabel-995c1864.js";import{_ as N,a as E}from"./SecondaryButton-546acdf2.js";import{_ as U}from"./PrimaryButton-615ccef1.js";import{_ as q}from"./TextInput-115f98fb.js";import{_ as D}from"./Checkbox-3c8c7303.js";const M={class:"space-y-6"},z=["onSubmit"],A={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},G={class:"my-6 space-y-4"},L={class:"flex justify-start items-center space-x-2 mt-2"},O={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-2"},T=["id","value"],H={class:"flex justify-end"},X={__name:"Create",props:{show:Boolean,permissions:Object},emits:["close"],setup(v,{emit:c}){const n=v,i=S({multipleSelect:!1}),e=C({name:"",guard_name:"web",permissions:[]}),g=()=>{e.post(route("role.store"),{preserveScroll:!0,onSuccess:()=>{c("close"),e.reset(),i.multipleSelect=!1},onError:()=>null,onFinish:()=>null})},b=l=>{l.target.checked===!1?e.permissions=[]:n.permissions.forEach(s=>{e.permissions.push(s.id)})},y=()=>{n.permissions.length==e.permissions.length?i.multipleSelect=!0:i.multipleSelect=!1};return(l,s)=>(f(),u("section",M,[a(N,{show:n.show,onClose:s[4]||(s[4]=o=>c("close"))},{default:p(()=>[t("form",{class:"p-6",onSubmit:j(g,["prevent"])},[t("h2",A,d(l.lang().label.add)+" "+d(l.lang().label.role),1),t("div",G,[t("div",null,[a(m,{for:"name",value:l.lang().label.role},null,8,["value"]),a(q,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(e).name,"onUpdate:modelValue":s[0]||(s[0]=o=>r(e).name=o),required:"",placeholder:l.lang().placeholder.name},null,8,["modelValue","placeholder"]),a(h,{class:"mt-2",message:r(e).errors.name},null,8,["message"])]),t("div",null,[a(m,{value:l.lang().label.permission},null,8,["value"]),a(h,{class:"mt-2",message:r(e).errors.permissions},null,8,["message"]),t("div",L,[a(D,{id:"permission-all",checked:i.multipleSelect,"onUpdate:checked":s[1]||(s[1]=o=>i.multipleSelect=o),onChange:b},null,8,["checked"]),a(m,{for:"permission-all",value:l.lang().label.check_all},null,8,["value"])]),t("div",O,[(f(!0),u($,null,x(n.permissions,(o,k)=>(f(),u("div",{class:"flex items-center justify-start space-x-2",key:k},[B(t("input",{onChange:y,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800",type:"checkbox",id:"permission_"+o.id,value:o.id,"onUpdate:modelValue":s[2]||(s[2]=w=>r(e).permissions=w)},null,40,T),[[F,r(e).permissions]]),a(m,{for:"permission_"+o.id,value:o.name},null,8,["for","value"])]))),128))])])]),t("div",H,[a(E,{disabled:r(e).processing,onClick:s[3]||(s[3]=o=>c("close"))},{default:p(()=>[_(d(l.lang().button.close),1)]),_:1},8,["disabled"]),a(U,{class:V(["ml-3",{"opacity-25":r(e).processing}]),disabled:r(e).processing,onClick:g},{default:p(()=>[_(d(r(e).processing?l.lang().button.add+"...":l.lang().button.add),1)]),_:1},8,["class","disabled"])])],40,z)]),_:1},8,["show"])]))}};export{X as default};
