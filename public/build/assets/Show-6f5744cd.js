import{u as $,C,c as i,a as d,b as n,d as e,w as g,t as a,e as p,f as v,F as _,r as y,o,H as N,L as O,g as f,z as b,y as L,I as j}from"./app-4405434e.js";import{_ as V}from"./InputLabel-3616922f.js";import{_ as B}from"./TextInput-d5eca81d.js";import{_ as H}from"./DangerButton-725e50ef.js";import D from"./DeleteComment-362c9913.js";import{h as F}from"./moment-fbc5633a.js";import{r as M}from"./ChevronLeftIcon-429c2aab.js";import{r as T}from"./TrashIcon-fcf036f0.js";import"./SecondaryButton-b67fb1f1.js";const U={class:"py-5"},z={class:"mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden"},E={class:"p-6 bg-white"},I={class:"flex items-center"},q=e("span",null,"Back",-1),G={class:"container mx-auto pt-10 pb-20"},J={class:"text-gray-500 bg-white rounded-lg"},K=e("img",{src:"",class:"w-20",alt:""},null,-1),P={class:"flex flex-wrap justify-center"},Q={class:"w-50 md:w-3/4 pb-20"},R={class:"font-bold text-6xl text-center text-gray-900 mb-4"},W={class:"text-xl text-center"},X={class:"text-center my-4"},Y={class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-full font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150",disabled:""},Z={class:"relative overflow-hidden bg-no-repeat bg-cover relative overflow-hidden bg-no-repeat bg-cover ripple my-4"},ee=["src"],te={class:"my-10 prose lg:prose-xl",style:{"text-align":"justify"}},se=["innerHTML"],oe=["onSubmit"],ie={class:"mb-4"},ne={key:0,className:"text-red-600"},re=e("div",{className:"mt-4"},[e("button",{type:"submit",className:"inline-flex items-center px-4 py-2 bg-primary dark:bg-primary border border-transparent rounded-md font-semibold text-xs text-white dark:text-white uppercase tracking-widest hover:bg-primary/80 dark:hover:bg-primary/90 focus:bg-primary/80 dark:focus:bg-primary/80 active:bg-primary dark:active:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-primary transition ease-in-out duration-150 disabled:bg-primary/80"}," Save ")],-1),ae={key:0},le=["onSubmit"],ce=e("div",{className:"mt-4"},[e("button",{type:"submit"},"like")],-1),de=[ce],ue={key:1},me=["onClick"],_e=["onSubmit"],pe=e("div",{className:"mt-4"},[e("button",{type:"submit"},"like")],-1),fe=[pe],be=e("thead",null,[e("tr",null,[e("td",null,"comment"),e("td",null,"author"),e("td",null,"action")])],-1),he={key:0},Ne={__name:"Show",props:{article:Object,users:Object,comments:Object,categories:Object,likescount:Number,likes:Object},setup(l){const t=l,c=$({id:t.article.id,comment:t.article.comment,like:t.article.like,_method:"put"}),u=C({deleteOpen:!1});function k(r){c.delete(route("article.delete-like",r))}const h=()=>{c.post(route("article.create-like",t.article.id))},x=()=>{c.post(route("article.create-comment",t.article.id))};return(r,m)=>{const w=j("tooltip");return o(),i(_,null,[d(n(N),{title:"Article"}),e("div",U,[e("div",z,[e("div",A,[e("div",E,[d(n(O),{href:r.route("article.index")},{default:g(()=>[e("div",I,[d(n(M),{class:"w-4 h-4"}),q])]),_:1},8,["href"]),e("div",G,[e("section",J,[K,e("div",P,[e("div",Q,[e("h1",R,a(t.article.title),1),e("p",W,a(n(F)(t.article.updated_at).format("LL"))+" | "+a(l.users[-1+t.article.user_id].name),1),e("div",X,[e("button",Y,a(l.categories[-1+t.article.category_id].name),1)]),e("div",Z,[e("img",{src:"../../"+t.article.thumbnail,class:"w-full rounded-3xl mt-4"},null,8,ee)]),e("div",te,[e("span",{innerHTML:t.article.body,class:"text-xl"},null,8,se)])])])]),e("form",{onSubmit:p(x,["prevent"]),enctype:"multipart/form-data"},[e("div",ie,[d(V,{for:"comment",value:"Comment"}),d(B,{id:"comment",type:"text",class:"mt-1 block w-full",modelValue:n(c).comment,"onUpdate:modelValue":m[0]||(m[0]=s=>n(c).comment=s),autofocus:""},null,8,["modelValue"]),n(c).errors.comment?(o(),i("span",ne,a(n(c).errors.comment),1)):v("",!0)]),re],40,oe),l.likes==""?(o(),i("div",ae,[e("form",{onSubmit:p(h,["prevent"])},de,40,le)])):(o(),i("div",ue,[(o(!0),i(_,null,y(l.likes,s=>(o(),i(_,{key:s.id},[f(e("div",null,[e("button",{onClick:S=>k(s.id),tabindex:"-1",type:"button",class:"mt-4"}," Unlike ",8,me)],512),[[b,s.user_id==r.$page.props.auth.user.id]]),f(e("div",null,[e("form",{onSubmit:p(h,["prevent"])},fe,40,_e)],512),[[b,s.user_id!=r.$page.props.auth.user.id]])],64))),128))])),e("p",null,a(t.likescount),1),d(D,{show:u.deleteOpen,onClose:m[1]||(m[1]=s=>u.deleteOpen=!1),comment:u.comment},null,8,["show","comment"]),e("table",null,[be,e("tbody",null,[(o(!0),i(_,null,y(l.comments,s=>(o(),i("tr",null,[e("td",null,a(s.comment),1),e("td",null,a(l.users[-1+s.user_id].name),1),s.user_id==r.$page.props.auth.user.id?(o(),i("td",he,[f((o(),L(H,{type:"button",onClick:S=>(u.deleteOpen=!0,u.comment=s),class:"px-2 py-1.5 rounded-none"},{default:g(()=>[d(n(T),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,r.can(["delete user"])],[w,r.lang().tooltip.delete]])])):v("",!0)]))),256))])])])])])])])],64)}}};export{Ne as default};
