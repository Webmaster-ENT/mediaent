import{C as j,m as V,D as b,E as I,c as g,b as r,d as o,w as u,F as k,o as i,H as B,a as e,h as c,A as m,e as x,t as n,z as w,i as D,G as P,I as U}from"./app-4fc0b334.js";import{_ as E,r as N}from"./AuthenticatedLayout-e86fbd78.js";import{_ as A}from"./Breadcrumb-ca0ce4b3.js";import{_ as F}from"./TextInput-0710efc1.js";import{_ as H}from"./PrimaryButton-4908599a.js";import{r as $,a as h,_ as L,b as T,c as z}from"./Pagination-5e0fcbc9.js";import{_ as G}from"./SelectInput-58f3410f.js";import{_ as C}from"./DangerButton-d2e891f3.js";import"./Ckeditor.vue_vue_type_style_index_0_lang-638c70eb.js";import M from"./Delete-ce1af4ed.js";import{_ as q}from"./Checkbox-b23a430f.js";import"./ApplicationLogo-89ea5084.js";import"./SecondaryButton-48f2d563.js";const J={class:"space-y-4"},K={class:"px-4 sm:px-0"},Q={class:"rounded-lg overflow-hidden w-fit"},R={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},W={class:"flex justify-between p-2"},X={class:"flex space-x-2"},Y={class:"overflow-x-auto scrollbar-table"},Z={class:"w-full"},ee={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},te={class:"dark:bg-gray-900/50 text-left"},se={class:"px-2 py-4 text-center"},ae=e("th",{class:"px-2 py-4 text-center"},"#",-1),le={class:"flex justify-between items-center"},re={class:"flex justify-between items-center"},oe=e("span",null,"Title",-1),de={class:"flex justify-between items-center"},ne=e("span",null,"Status",-1),ie={class:"flex justify-between items-center"},ce=e("span",null,"Like",-1),pe=e("th",{class:"px-2 py-4"},"Action",-1),ue={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},me=["value","onUpdate:modelValue"],fe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},he={class:"flex justify-start items-center"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"flex justify-center items-center"},ke={class:"rounded-md overflow-hidden"},xe={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ae={__name:"Index",props:{title:String,filters:Object,articles:Object,roles:Object,breadcrumbs:Object,perPage:Number},setup(f){const d=f,t=j({params:{search:d.filters.search,field:d.filters.field,order:d.filters.order,perPage:d.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,article:null,dataSet:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]}),_=l=>{t.params.field=l,t.params.order=t.params.order==="asc"?"desc":"asc"};V(()=>b._.cloneDeep(t.params),b.debounce(()=>{let l=b.pickBy(t.params);I.Inertia.get(route("article.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const S=l=>{var s;l.target.checked===!1?t.selectedId=[]:(s=d.articles)==null||s.data.forEach(p=>{t.selectedId.push(p.id)})},O=()=>{var l;((l=d.articles)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(l,s)=>{const p=P("tooltip");return i(),g(k,null,[r(o(B),{title:d.title},null,8,["title"]),r(E,null,{default:u(()=>[r(A,{title:f.title,breadcrumbs:f.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",J,[e("div",K,[e("div",Q,[c(r(H,{class:"rounded-none",onClick:s[0]||(s[0]=a=>t.createOpen=!0)},{default:u(()=>[x(n(l.lang().button.add),1)]),_:1},512),[[m,l.can(["create article"])]]),r(M,{show:t.deleteOpen,onClose:s[1]||(s[1]=a=>t.deleteOpen=!1),article:t.article},null,8,["show","article"])])]),e("div",R,[e("div",W,[e("div",X,[r(G,{modelValue:t.params.perPage,"onUpdate:modelValue":s[2]||(s[2]=a=>t.params.perPage=a),dataSet:t.dataSet},null,8,["modelValue","dataSet"]),c((i(),w(C,{onClick:s[3]||(s[3]=a=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[r(o($),{class:"w-5 h-5"})]),_:1})),[[m,t.selectedId.length!=0&&l.can(["delete article"])],[p,l.lang().tooltip.delete_selected]])]),r(F,{modelValue:t.params.search,"onUpdate:modelValue":s[4]||(s[4]=a=>t.params.search=a),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])]),e("div",Y,[e("table",Z,[e("thead",ee,[e("tr",te,[e("th",se,[r(q,{checked:t.multipleSelect,"onUpdate:checked":s[5]||(s[5]=a=>t.multipleSelect=a),onChange:S},null,8,["checked"])]),ae,e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[6]||(s[6]=a=>_("title"))},[e("div",le,[e("span",null,n(l.lang().label.thumbnail),1),r(o(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[7]||(s[7]=a=>_("updated_at"))},[e("div",re,[oe,r(o(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[8]||(s[8]=a=>_("updated_at"))},[e("div",de,[ne,r(o(h),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=a=>_("updated_at"))},[e("div",ie,[ce,r(o(h),{class:"w-4 h-4"})])]),pe])]),e("tbody",null,[(i(!0),g(k,null,D(f.articles.data,(a,v)=>(i(),g("tr",{key:v,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e("td",ue,[c(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800",type:"checkbox",onChange:O,value:a.id,"onUpdate:modelValue":y=>a.selectedId=y},null,40,me),[[U,a.selectedId]])]),e("td",fe,n(++v),1),e("td",_e,[e("span",he,[x(n(a.thumbnail)+" ",1),c(r(o(N),{class:"ml-[2px] w-4 h-4 text-blue-600 dark:text-white"},null,512),[[m,a.email_verified_at]])])]),e("td",ye,n(a.title),1),e("td",be,n(a.status),1),e("td",ge,n(a.like),1),e("td",we,[e("div",ve,[e("div",ke,[c((i(),w(T,{type:"button",onClick:y=>(t.editOpen=!0,t.article=a),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(o(z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,l.can(["update article"])],[p,l.lang().tooltip.edit]]),c((i(),w(C,{type:"button",onClick:y=>(t.deleteOpen=!0,t.article=a),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(o($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,l.can(["delete article"])],[p,l.lang().tooltip.delete]])])])])]))),128))])])]),e("div",xe,[r(L,{links:d.articles,filters:t.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ae as default};
