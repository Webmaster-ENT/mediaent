import{D as B,m as j,E as h,G as V,c as b,a,b as o,w as i,F as k,o as d,H as D,d as e,L as v,e as N,h as _,A as x,z as $,i as P,r as E,I as L,J as U,t as u}from"./app-ce84355e.js";import{_ as A}from"./AuthenticatedLayout-d7290906.js";import{_ as T}from"./Breadcrumb-1d6b3d70.js";import{_ as F}from"./TextInput-4ebedda5.js";import{_ as H}from"./SelectInput-3b6ba499.js";import{_ as S}from"./DangerButton-1eb93eb6.js";import{r as C,a as m,_ as z,b as G}from"./Pagination-198add1f.js";import"./Ckeditor.vue_vue_type_style_index_0_lang-8fc3409a.js";import J from"./Delete-f29ae540.js";import{_ as M}from"./Checkbox-d5636cf2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SecondaryButton-4e32faa2.js";const q={class:"space-y-4"},K={class:"px-4 sm:px-0"},Q={class:"rounded-lg overflow-hidden w-fit"},R={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},W={class:"flex justify-between p-2"},X={class:"flex space-x-2"},Y={class:"overflow-x-auto scrollbar-table"},Z={class:"w-full"},ee={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},te={class:"dark:bg-gray-900/50 text-left"},se={class:"px-2 py-4 text-center"},re=e("th",{class:"px-2 py-4 text-center"},"#",-1),ae={class:"flex justify-between items-center"},le=e("span",null,"Thumbnail",-1),oe={class:"flex justify-between items-center"},ne=e("span",null,"Title",-1),ie={class:"flex justify-between items-center"},de=e("span",null,"Status",-1),ce={class:"flex justify-between items-center"},pe=e("span",null,"Like",-1),ue=e("th",{class:"px-2 py-4"},"Action",-1),me={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},fe=["value"],he={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},_e=["src"],ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"flex justify-center items-center"},xe={class:"rounded-md overflow-hidden"},$e={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ue={__name:"Index",props:{title:String,filters:Object,articles:Object,breadcrumbs:Object,perPage:Number},setup(c){const n=c,t=B({params:{search:n.filters.search,field:n.filters.field,order:n.filters.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,article:null,dataSet:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]}),p=l=>{t.params.field=l,t.params.order=t.params.order==="asc"?"desc":"asc"};j(()=>h._.cloneDeep(t.params),h.debounce(()=>{let l=h.pickBy(t.params);V.Inertia.get(route("article.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const I=l=>{var s;l.target.checked===!1?t.selectedId=[]:(s=n.articles)==null||s.data.forEach(f=>{t.selectedId.push(f.id)})},O=()=>{var l;((l=n.articles)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(l,s)=>{const f=E("DeleteBulk"),g=L("tooltip");return d(),b(k,null,[a(o(D),{title:n.title},null,8,["title"]),a(A,null,{default:i(()=>[a(T,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",q,[e("div",K,[e("div",Q,[a(o(v),{tabiprimndex:"1",type:"button",className:"inline-flex items-center px-4 py-2 bg-primary dark:bg-primary border border-transparent rounded-md font-semibold text-xs text-white dark:text-white uppercase tracking-widest hover:bg-primary/80 dark:hover:bg-primary/90 focus:bg-primary/80 dark:focus:bg-primary/80 active:bg-primary dark:active:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-primary transition ease-in-out duration-150 disabled:bg-primary/80",href:l.route("article.create")},{default:i(()=>[N("Create")]),_:1},8,["href"]),a(J,{show:t.deleteOpen,onClose:s[0]||(s[0]=r=>t.deleteOpen=!1),article:t.article},null,8,["show","article"]),a(f,{show:t.deleteBulkOpen,onClose:s[1]||(s[1]=r=>(t.deleteBulkOpen=!1,t.multipleSelect=!1,t.selectedId=[])),selectedId:t.selectedId},null,8,["show","selectedId"])])]),e("div",R,[e("div",W,[e("div",X,[a(H,{modelValue:t.params.perPage,"onUpdate:modelValue":s[2]||(s[2]=r=>t.params.perPage=r),dataSet:t.dataSet},null,8,["modelValue","dataSet"]),_((d(),$(S,{onClick:s[3]||(s[3]=r=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:i(()=>[a(o(C),{class:"w-5 h-5"})]),_:1})),[[x,t.selectedId.length!=0&&l.can(["delete user"])],[g,l.lang().tooltip.delete_selected]])]),a(F,{modelValue:t.params.search,"onUpdate:modelValue":s[4]||(s[4]=r=>t.params.search=r),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])]),e("div",Y,[e("table",Z,[e("thead",ee,[e("tr",te,[e("th",se,[a(M,{checked:t.multipleSelect,"onUpdate:checked":s[5]||(s[5]=r=>t.multipleSelect=r),onChange:I},null,8,["checked"])]),re,e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[6]||(s[6]=r=>p("name"))},[e("div",ae,[le,a(o(m),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[7]||(s[7]=r=>p("title"))},[e("div",oe,[ne,a(o(m),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[8]||(s[8]=r=>p("status"))},[e("div",ie,[de,a(o(m),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=r=>p("like"))},[e("div",ce,[pe,a(o(m),{class:"w-4 h-4"})])]),ue])]),e("tbody",null,[(d(!0),b(k,null,P(c.articles.data,(r,y)=>(d(),b("tr",{key:y,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e("td",me,[_(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800",type:"checkbox",onChange:O,value:r.id,"onUpdate:modelValue":s[10]||(s[10]=w=>t.selectedId=w)},null,40,fe),[[U,t.selectedId]])]),e("td",he,u(++y),1),e("td",be,[e("img",{src:r.thumbnail,class:"w-32 rounded",alt:""},null,8,_e)]),e("td",ge,u(r.title),1),e("td",ye,u(r.status),1),e("td",we,u(r.like),1),e("td",ke,[e("div",ve,[e("div",xe,[a(o(v),{class:"px-2 py-1.5 rounded-none inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150",href:l.route("article.edit",r.id)},{default:i(()=>[a(o(G),{class:"w-4 h-4"})]),_:2},1032,["href"]),_((d(),$(S,{type:"button",onClick:w=>(t.deleteOpen=!0,t.article=r),class:"px-2 py-1.5 rounded-none"},{default:i(()=>[a(o(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,l.can(["delete user"])],[g,l.lang().tooltip.delete]])])])])]))),128))])])]),e("div",$e,[a(z,{links:n.articles,filters:t.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ue as default};
